<!doctype html>
<html lang="en" class="h-100">

    <head>
        <title>CIVIC: The Code</title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <!-- site.css -->
        <link rel="stylesheet" href="/css/site.css">

        <!-- prism.css -->
        <link rel="stylesheet" href="/css/prism.css">

        <!-- icon -->
        <link rel="icon" type="img/png" href="/img/favicon-32x32.png">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Racing+Sans+One&family=Roboto+Mono:wght@600&display=swap" rel="stylesheet">        <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>

        <!-- font awesome -->
        <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>
    </head>

    <body class="d-flex flex-column h-100">
        <!--NAV BAR-->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <img src="img/android-chrome-192x192.png" class="me-3" 
                    width="30" height="24">
                <a class="navbar-brand main-font" href="/index.html">CIVIC</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                    aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link secondary-font" href="/index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link secondary-font" href="/app.html">The App</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active secondary-font" aria-current="page" href="/code.html">The Code</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link secondary-font" target="_blank" href="https://github.com/DominicWegrzynowski/civic">Git Repo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link secondary-font" target="_blank" href="https://dominicdeveloper.netlify.app/">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!--CONTENT-->
        <main class="flex-shrink-0">
            <div class="container my-5 mt-5 py-4 px-5">
                <!-- HEADER -->
                <div class="row border-1 border-bottom border-dark pb-md-2">
                    <div class="col">
                        <h1 class="secondary-font pt-3 pt-md-5"><strong>CIVIC's Code:</strong></h1>
                    </div>
                    <div class="col d-flex justify-content-center ps-md-5 ms-md-5">
                        <img class="ms-md-5" src="/img/civic-logo.svg" width="150" height="150" alt="fizz buzz logo">
                    </div>
                </div>
                    
                <div class="row row-cols-1 row-cols-lg-2">
                    <!-- Code Window -->
                    <div class="col-lg-7 mt-md-4 ">
                        <pre class="line-numbers">
                            <code class="language-javascript">
                                function getString() {
                                
                                    let userInput = String(document.getElementById("userInput").value);
                                
                                    let returnObj = checkForPalindrome(userInput);
                                
                                    displayMessage(returnObj)
                                
                                }
                                
                                function checkForPalindrome(userInput) {
                                
                                    userInput= userInput.toLowerCase();
                                    
                                    let regex = /[^a-z0-9]/gi;
                                    userInput= userInput.replace(regex, "");
                                
                                    let reversedString = [];
                                    let returnObj = {};
                                
                                    for (let index = userInput.length - 1; index >= 0; index--) {
                                        reversedString += userInput[index];
                                    }
                                
                                    if(reversedString === userInput) {
                                        returnObj.msg = "Well done! You entered a palindrome";
                                    } 
                                    else {
                                        returnObj.msg = "Sorry! You did not enter a palindrome"
                                    }
                                
                                    returnObj.reversed = reversedString;
                                
                                    return returnObj;
                                
                                }
                                
                                function displayMessage(returnObj) {
                                
                                    document.getElementById("alertHeading").innerHTML = returnObj.msg;
                                    document.getElementById("msg").innerHTML = `Your phrase reversed is: ${returnObj.reversed}`;
                                
                                    if(returnObj.msg === "Well done! You entered a palindrome") {
                                        document.getElementById("alert").classList.remove("alert-danger");
                                        document.getElementById("alert").classList.add("alert-success");
                                        document.getElementById("alert").classList.remove("invisible");
                                    }
                                    if(returnObj.msg === "Sorry! You did not enter a palindrome") {
                                        document.getElementById("alert").classList.remove("alert-success");
                                        document.getElementById("alert").classList.add("alert-danger");
                                        document.getElementById("alert").classList.remove("invisible");
                                    }
                                
                                }

                            </code>
                        </pre>
                    </div>
                    <!-- Code Description -->
                    <div class="col-lg-5">
                        <h4 class="text-center"><strong>The Design:</strong></h4>
                        <p>To keep the code as clean as possible, the program is encapsulated into three functions:</p>
                        <ul>
                            <li><h5>getString</h5></li>
                            <p>This function is responsible for gathering and validating user input. First, it stores the value of the userInput element into a "userInput" variable and castes it to a string. Next, there is an object variable called "returnObj" which is assigned to the object returned from the checkForPalindrome function. It passes the "userInput" variable as an argument into this function. Lastly, it calls the displayMessage function, passing it the "returnObj" object varible.   </p>
                            <li><h5>checkForPalindrome</h5></li>
                            <p>This function is responsible for formatting the "userInput" string along with handling which message should be returned based on whether or not the user enters a palindrome. It does this by first converting the "userInput" string to lowercase. Next, is declared a regular expression variable, it then uses this regular expression as an argument in the "replace" method and replaces all instances of any special character not in this regular expression with a "". Next, it creates an array called "reversedString" and an object "returnObj"(the function's output). It then, loops backwards adding the last position of the "userInput" array of characters to the first position of the "reversedString" variable, completely reversing the string. After the loop is finished, there is a conditional checking whether or not the "reversedString" variable is the same as the original "userInput" string, if so it assigns the "msg" property of the "returnObj" to a message confirming that it is a palindrome, if not it sets this property to a message informing that it is not a palindrome. Lastly, it assigns the "reversed" property of the "returnObj" to the "reversedString" and returns the "returnObj"</p>
                            <li><h5>displayMessage</h5></li>
                            <p>This function is soley responsible for modifying the DOM based on whether or not the returnObj is a palindrome. It does this by first assiging the "alertHeading" innerHTML to the "returnObj.msg" property. Next, it updates the innerHTML of the "msg" element. Lastly, it uses two conditionals to check whether or not the "returnObj.msg" is a palindrome. Within each conditional, it updates the "alert" element's classList property to get the appropriate "alert-success" or "alert-danger" alert message. </p>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
        <!--FOOTER-->
        <footer class="footer mt-auto py-3 sticky-footer">
            <div class="container-fluid">
                <div class="row row-cols-1 row-cols-lg-3 gy-2">
                    <div class="col order-last order-lg-first d-flex align-items-center text-light">
                        <div class="">
                            <span class="text-muted">
                                &copy;2021
                            </span>
                            Dominic Wegrzynowski | dominicwegrzynowski@gmail.com
                        </div>
                    </div>
                    <div class="col d-flex align-items-center justify-content-start justify-content-lg-center">
                        <a href="https://dominicdeveloper.netlify.app">
                            <img src="/img/dominic-weg-logo.svg" alt="Dominic Wegrzynowski Logo" height="36">
                        </a>
                    </div>
                    <div class="col d-flex align-items-center justify-content-start justify-content-lg-end">
                        <div class="row">
                            <div class="col social">
                                <a href="https://www.linkedin.com/in/dominic-wegrzynowski/" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a>
                            </div>
                            <div class="col social">
                                <a href="www.twitter.com" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
                            </div>
                            <div class="col social">
                                <a href="https://github.com/DominicWegrzynowski/" target="_blank"><i class="fab fa-github fa-2x"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
            integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
        </script>
        <!--Custom JS-->
        <script src="/js/site.js"></script>

        <!-- Prism JS -->
        <script src="/js/prism.js"></script>
        <script text="text/javascript">
            Prism.plugins.NormalizeWhitespace.setDefaults({
                'remove-trailing': true,
                'remove-indent': true,
                'left-trim': true,
                'right-trim': true,
            });
        </script>
    </body>

</html>